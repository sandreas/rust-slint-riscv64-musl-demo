
import { VerticalBox, HorizontalBox } from "std-widgets.slint";
import {SlintAudioPlayer, SlintMediaSourceItem} from "../globals.slint";

import {PlayButton} from "../_components/buttons/PlayButton.slint";
import { ToggleButton } from "buttons/ToggleButton.slint";

// icons see: https://docs.rs/lucide-slint/latest/lucide_slint/
export component Player {
    in-out property <SlintMediaSourceItem> item;

    VerticalBox {
        if SlintAudioPlayer.current-item-id == item.id: HorizontalBox {
            Text {
                text: SlintAudioPlayer.position_formatted;
            }
        }
        HorizontalBox {
            ToggleButton {
                is-playing: SlintAudioPlayer.status == "playing";
                clicked => {
                    SlintAudioPlayer.play_media(item.id);
                }
            }
        }

    }
}